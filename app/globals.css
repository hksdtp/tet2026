@tailwind base;
@tailwind components;
@tailwind utilities;

/* Google Fonts - INCANTO 2026 Design System */
@import url("https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Be+Vietnam+Pro:wght@300;400;500;600;700&family=Noto+Serif+SC:wght@300;400;500;600;700;900&display=swap");

/* ========================================
   CRITICAL: Ensure content visible before JS loads
   Fix for Framer Motion initial opacity:0 issue
   ======================================== */
@supports not (animation-timeline: scroll) {
    /* Fallback for browsers without JS or slow hydration */
    [style*="opacity: 0"],
    [style*="opacity:0"] {
        opacity: 1 !important;
    }
    [style*="transform: translateY"] {
        transform: none !important;
    }
}

/* Force visibility after a short delay if JS hasn't loaded */
@keyframes forceVisible {
    to {
        opacity: 1 !important;
        transform: none !important;
    }
}

/* Apply to elements that might be hidden by Framer Motion */
html:not(.js-loaded) nav,
html:not(.js-loaded) section,
html:not(.js-loaded) .animate-fade-in {
    animation: forceVisible 0.1s ease-out 0.5s forwards;
}

:root {
    /* INCANTO 2026 Theme - Thiên nhiên Á Đông Sang trọng */
    --color-incanto-primary: #40979A;      /* Teal - Xanh lam ngọc */
    --color-incanto-secondary: #3A5777;    /* Xanh đen/Indigo */
    --color-incanto-accent: #C4A76C;       /* Vàng đồng - điểm nhấn */
    --color-incanto-gold: #C4A76C;         /* Vàng đồng */
    --color-incanto-dark: #2D3B3C;         /* Xanh đen đậm */
    --color-incanto-light: #E9DCCF;        /* Kem ngà */
    --color-incanto-cream: #F5F0E8;        /* Kem nhạt */
    --color-incanto-brown: #6B4C33;        /* Nâu gỗ */
    --color-incanto-leaf: #758C5A;         /* Xanh lá xám */
    --color-incanto-teal: #40979A;         /* Teal */
    --color-incanto-teal-dark: #357577;    /* Teal đậm */
    --color-incanto-teal-light: #5AACAE;   /* Teal nhạt */

    /* Apple-style easing */
    --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
}

* {
    box-sizing: border-box;
    padding: 0;
    margin: 0;
}

html {
    scroll-behavior: smooth;
    -webkit-tap-highlight-color: transparent;
}

html,
body {
    max-width: 100vw;
    overflow-x: hidden;
    background: #ffffff;
}

body {
    font-family: var(--font-body), 'Be Vietnam Pro', system-ui, sans-serif;
    color: #1A0A0A;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

/* Font display class for headings */
.font-display {
    font-family: var(--font-display), 'Cinzel', Georgia, serif;
}

/* Touch-friendly interactions */
.touch-manipulation {
    touch-action: manipulation;
}

/* Hide scrollbar utility */
.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
    display: none;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    html {
        scroll-behavior: auto;
    }
}

a {
    color: inherit;
    text-decoration: none;
}

/* Apple-style scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background-color: rgba(0, 0, 0, 0.3);
}

/* ========================================
   GLASS MORPHISM EFFECTS
   ======================================== */
.glass {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.glass-dark {
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* ========================================
   NAVIGATION STYLES
   ======================================== */
.nav-blur {
    background: rgba(255, 255, 255, 0.72);
    backdrop-filter: saturate(180%) blur(20px);
    -webkit-backdrop-filter: saturate(180%) blur(20px);
}

.nav-blur-scrolled {
    background: rgba(255, 255, 255, 0.92);
    backdrop-filter: saturate(180%) blur(20px);
    -webkit-backdrop-filter: saturate(180%) blur(20px);
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.08);
}

/* ========================================
   BUTTON STYLES - INCANTO 2026 Theme
   ======================================== */
@layer components {
    .btn-primary {
        @apply relative inline-flex items-center justify-center px-7 py-3
               text-white font-medium rounded-full cursor-pointer
               transition-all duration-300 ease-apple
               hover:scale-105 active:scale-95
               disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100;
        background: linear-gradient(135deg, var(--color-incanto-primary) 0%, var(--color-incanto-teal-dark) 100%);
        box-shadow: 0 4px 14px rgba(64, 151, 154, 0.3);
    }

    .btn-primary:hover {
        box-shadow: 0 6px 20px rgba(64, 151, 154, 0.4);
    }

    /* Nút vàng đồng sang trọng */
    .btn-gold {
        @apply relative inline-flex items-center justify-center px-7 py-3
               font-medium rounded-full cursor-pointer
               transition-all duration-300 ease-apple
               hover:scale-105 active:scale-95
               disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100;
        background: linear-gradient(135deg, var(--color-incanto-gold) 0%, #A8914F 100%);
        color: #2D3B3C;
        box-shadow: 0 4px 14px rgba(196, 167, 108, 0.35);
    }

    .btn-gold:hover {
        box-shadow: 0 6px 20px rgba(196, 167, 108, 0.5);
    }

    .btn-secondary {
        @apply relative inline-flex items-center justify-center px-7 py-3
               font-medium rounded-full cursor-pointer
               transition-all duration-300 ease-apple border-2
               hover:scale-105 active:scale-95
               disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100;
        color: var(--color-incanto-primary);
        border-color: var(--color-incanto-primary);
        background: transparent;
    }

    .btn-secondary:hover {
        background: var(--color-incanto-primary);
        color: white;
    }

    .btn-ghost {
        @apply relative inline-flex items-center justify-center px-5 py-2
               font-medium rounded-full cursor-pointer
               transition-all duration-200 ease-apple
               hover:bg-gray-100 active:scale-95;
    }
}

/* ========================================
   PRODUCT CARD STYLES
   ======================================== */
.product-card {
    @apply relative bg-white rounded-2xl overflow-hidden;
    transition: all 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.product-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
}

.product-card-image {
    @apply relative overflow-hidden;
    transition: transform 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.product-card:hover .product-card-image img {
    transform: scale(1.08);
}

/* ========================================
   HERO SECTION - INCANTO 2026 Theme
   ======================================== */
.hero-gradient {
    background: linear-gradient(180deg,
        var(--color-incanto-primary) 0%,
        var(--color-incanto-teal-dark) 50%,
        var(--color-incanto-secondary) 100%
    );
}

.hero-gradient-light {
    background: linear-gradient(135deg,
        var(--color-incanto-cream) 0%,
        #ffffff 40%,
        #ffffff 60%,
        var(--color-incanto-light) 100%
    );
}

.hero-gradient-radial {
    background: radial-gradient(ellipse at center,
        var(--color-incanto-teal-light) 0%,
        var(--color-incanto-primary) 100%
    );
}

/* ========================================
   TYPOGRAPHY
   ======================================== */
.text-display {
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    font-weight: 800;
    line-height: 1.05;
    letter-spacing: -0.025em;
}

.text-headline {
    font-size: clamp(1.75rem, 3.5vw, 3rem);
    font-weight: 700;
    line-height: 1.15;
    letter-spacing: -0.02em;
}

.text-subheadline {
    font-size: clamp(1.1rem, 2vw, 1.375rem);
    font-weight: 400;
    line-height: 1.5;
    color: #6e6e73;
}

.text-gradient {
    background: linear-gradient(135deg, var(--color-incanto-gold) 0%, #A8914F 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.text-gradient-teal {
    background: linear-gradient(135deg, var(--color-incanto-primary) 0%, var(--color-incanto-secondary) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* ========================================
   SKELETON LOADING
   ======================================== */
.skeleton {
    @apply bg-gray-200 rounded animate-pulse;
}

.skeleton-shimmer {
    background: linear-gradient(90deg,
        #f0f0f0 25%,
        #e0e0e0 50%,
        #f0f0f0 75%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

/* ========================================
   SCROLL REVEAL UTILITIES
   ======================================== */
.reveal {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.reveal.active {
    opacity: 1;
    transform: translateY(0);
}

.reveal-left {
    opacity: 0;
    transform: translateX(-50px);
    transition: all 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.reveal-left.active {
    opacity: 1;
    transform: translateX(0);
}

.reveal-right {
    opacity: 0;
    transform: translateX(50px);
    transition: all 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.reveal-right.active {
    opacity: 1;
    transform: translateX(0);
}

/* ========================================
   STAGGER ANIMATION DELAYS
   ======================================== */
.stagger-1 { animation-delay: 0.1s; }
.stagger-2 { animation-delay: 0.2s; }
.stagger-3 { animation-delay: 0.3s; }
.stagger-4 { animation-delay: 0.4s; }
.stagger-5 { animation-delay: 0.5s; }
.stagger-6 { animation-delay: 0.6s; }

/* ========================================
   HOVER EFFECTS
   ======================================== */
.hover-lift {
    transition: transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1),
                box-shadow 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px -8px rgba(0, 0, 0, 0.15);
}

.hover-scale {
    transition: transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.hover-scale:hover {
    transform: scale(1.02);
}

.hover-glow {
    transition: box-shadow 0.3s ease;
}

.hover-glow:hover {
    box-shadow: 0 0 30px rgba(64, 151, 154, 0.25);
}

.hover-glow-gold {
    transition: box-shadow 0.3s ease;
}

.hover-glow-gold:hover {
    box-shadow: 0 0 30px rgba(196, 167, 108, 0.3);
}

/* ========================================
   IMAGE EFFECTS
   ======================================== */
.image-zoom {
    overflow: hidden;
}

.image-zoom img {
    transition: transform 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.image-zoom:hover img {
    transform: scale(1.1);
}

/* ========================================
   BADGE STYLES
   ======================================== */
@layer components {
    .badge {
        @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold;
    }

    .badge-bestseller {
        @apply bg-red-500 text-white;
    }

    .badge-limited {
        @apply bg-purple-500 text-white;
    }

    .badge-new {
        @apply bg-green-500 text-white;
    }

    .badge-premium {
        @apply bg-amber-500 text-white;
    }

    .badge-exclusive {
        @apply bg-incanto-dark text-white;
    }

    .badge-sale {
        @apply bg-rose-500 text-white;
    }
}

/* ========================================
   CART NOTIFICATION
   ======================================== */
.cart-badge {
    @apply absolute -top-1 -right-1 w-5 h-5
           bg-incanto-primary text-white text-xs
           rounded-full flex items-center justify-center
           font-medium;
    animation: bounceIn 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes bounceIn {
    0% { transform: scale(0); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

/* ========================================
   TOAST NOTIFICATIONS
   ======================================== */
.toast {
    @apply fixed bottom-4 right-4 px-6 py-4 rounded-xl
           bg-incanto-dark text-white shadow-hard
           z-50;
    animation: slideInRight 0.3s ease-out;
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* ========================================
   MODAL/DRAWER OVERLAY
   ======================================== */
.overlay {
    @apply fixed inset-0 bg-black/50 z-40;
    backdrop-filter: blur(4px);
    animation: fadeIn 0.2s ease-out;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* ========================================
   FORM INPUTS
   ======================================== */
@layer components {
    .input {
        @apply w-full px-4 py-3 rounded-xl border border-gray-300
               bg-white text-gray-900
               transition-all duration-200
               focus:outline-none focus:border-incanto-primary focus:ring-2 focus:ring-incanto-primary/20;
    }

    .input-rounded {
        @apply w-full px-5 py-3 rounded-full border border-gray-300
               bg-white text-gray-900
               transition-all duration-200
               focus:outline-none focus:border-incanto-primary focus:ring-2 focus:ring-incanto-primary/20;
    }
}

/* ========================================
   DIVIDER
   ======================================== */
.divider {
    @apply w-full h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent;
}

/* ========================================
   SELECTION COLOR
   ======================================== */
::selection {
    background: var(--color-incanto-accent);
    color: white;
}
